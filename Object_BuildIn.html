<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <input id="text1" type="text" placeholder="輸入電子郵件" />
  <button id="button1">click</button>
  <div id="div1"></div>

  <script src="scripts//vaidate.js"></script>
  <script>
    //找到要控制的對象 querySelector('css selectors')
    const txt = document.querySelector('#text1');
    const btn = document.getElementById('button1');
    const divMessage = document.querySelector('#div1');

    //甚麼時候 > 做甚麼事
    //使用者按下按鈕的時候 => click 事件
    btn.addEventListener('click',()=>{
      //做甚麼事 驗證電子郵件格式是否正確  @@、@ => 0  @wang.ispn.com.tw @ => 最後位置
      //email 中有沒有 @  indexOf('@') => -1
      //email 中有沒有 .  indexOf('.') => -1
      const strMail = txt.value;
      // console.log(strMail.length);
      // console.log(strMail.trim().length);  //trim()去掉字串前後空白
      let message = "電子郵件格式正確"
      //檢查有沒有輸入電子郵件
      if(!checkEmpty(strMail)){
         message = "請輸入電子郵件";
      }else{
        if(!checkMailFormat(strMail)){
            message = "電子郵件格式不正確";
        }
      }


      divMessage.textContent = message;   //`${txt.value} email 格式正確或錯誤` ;

    })


    // console.log('1+2');        //1+2
    // console.log(1+2);          //3
    // console.log(eval('1+2'));  //3

    //NaN  Not a Number
    //console.log(Number("abc"));   //NaN
    //isNaN   is not a number
    // console.log(isNaN("abc"));  //true
    // console.log(isNaN("123"));  //false

    // const strUrl = "https://www.ispan.com.tw/?search=前端&type=engineer";
    // //編碼
    // console.log(encodeURI(strUrl));
    // console.log(encodeURIComponent(strUrl));
    // const encodedStrRul = "https%3A%2F%2Fwww.ispan.com.tw%2F%3Fsearch%3D%E5%89%8D%E7%AB%AF%26type%3Dengineer"
    // console.log(decodeURIComponent(encodedStrRul));

    //String Object    new Class() => Object
    //const str = new String('JavaScript');
    //JavaScript
    //0123456789
  //   const str = 'JavaScript';
  //  console.log(`str： ${str}`);
  //   console.log(`JavaScript字元數： ${str.length}`);  //10
  //   console.log(`charAt(4)： ${str.charAt(4)}`);  //S
  //   console.log(`indexOf("a")： ${str.indexOf('a')}`);  //1
  //   console.log(`indexOf("z")： ${str.indexOf('z')}`);  //找不到回傳-1
  //   console.log(`lastIndexOf("a")： ${str.lastIndexOf('a')}`);  //3
  //   console.log(`substr(4,6)： ${str.substr(4,6)}`);  //Script
  //   console.log(`substring(4,6)： ${str.substring(4,6)}`);  //Sc
  //   console.log(`substring(4,10)： ${str.substring(4,10)}`);  //Script
    // console.log("a" === "A"); //true or false => false
    // console.log("a".charCodeAt()); //97
    // console.log("A".charCodeAt()); //65
    // console.log("a".toLowerCase() === "A".toLowerCase()); //true

    // const str = "write less do more";
    // const datas = str.split(","); //字串轉陣列
    // console.log(datas);

    const strFileName = "a.pdf";
    const ext = strFileName.split(".")[1];
    if(/png|jpg|gif/.test(ext)){
      console.log('圖檔');
    }else{
      console.log('不是圖檔');
    }

    // if(strFileName.split(".")[1]==="jpg"){
    //   console.log("副檔名是 jpg");
    // }

    //Date Object
    // const today = new Date();
    // console.log(today);
    // console.log(today.getTime()); //回傳毫秒
    // console.log(today.getMonth() + 1); //0-11 => 0 就是一月
    
    // console.log(today.getDay());  //0-6 => 0 星期日，1 星期一


    //輸入生日，計算年紀
    //(今天毫秒-生日毫秒) / 365.2425 * 24 * 60 * 60 * 1000 一年多少毫秒
    // const birthDay = new Date('2000/10/10');
    // console.log(birthDay);

    //RegExp Object 正規(則)表達式 new RegExp('pattern','gi')
    //const re = new RegExp("a","gi");
    //[] {} /pattern/flag
    //const re = /a/gi;
    //學會如何設計我們的 pattern

    // //透過String.match()使用 RegExp
    // const str =  "JavaScript JAVA";
    // const data = str.match(re);
    // console.log(data);

    //透過 re.test()方法用來檢查傳入字串有沒有符合 RegExp 的 pattern
    //console.log(re.test("A"));

    //0911-222-333
    // const re = /^09\d{2}-\d{3}-\d{3}$/;
    // console.log(re.test('0911122233')); //fales
    // console.log(re.test('0911-122-233')); //true
    // console.log(re.test('0811-122-233')); //false
    // console.log(re.test('0811-122-23a')); //false

    //a123456789 身分證號碼的檢查



  </script>
</body>
</html>